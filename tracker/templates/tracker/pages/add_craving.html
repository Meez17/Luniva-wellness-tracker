{% extends "tracker/base.html" %}
{% block title %}Craving - Luniva{% endblock %}
{% load static %}

{% block content %}
<div class="container pastel-bg" style="max-width: 1100px; margin-top: 30px;">
  <div class="card-body">
    <div class="text-center mb-4">
      <img src="{% static 'images/icecream.gif' %}" alt="Profile gif" style="max-width: 220px;">
    </div>

    <h3 class="text-center mb-2" style="color:#A18BD0;">What are you craving for?</h3>
    <p class="text-center mb-4">
      Tracking your cravings can help you understand patterns related to your menstrual cycle and overall well-being. <br>
      You can log different types of cravings and any additional notes.
    </p>

    {% if form.errors %}
      <div class="alert alert-danger">
        <ul>
          {% for field in form %}
            {% for error in field.errors %}
              <li><strong>{{ field.label }}:</strong> {{ error }}</li>
            {% endfor %}
          {% endfor %}
        </ul>
      </div>
    {% endif %}

      {% if messages %}
  {% for message in messages %}
    <div class="alert alert-success" id="success-message">{{ message }}</div>
  {% endfor %}
  <script>
    setTimeout(function() {
      var msg = document.getElementById('success-message');
      if (msg) { msg.style.display = 'none'; }
    }, 3000); // 3 seconds
  </script>
{% endif %}

  <form method="post" class="p-4 rounded">
    {% csrf_token %}
    <br>
    
    <div class="mb-3"> <p style="color: #ECA1A6;"> Please select a date</p>
      {{ form.date.label_tag }} {{ form.date }}</div>
    <br>

    <div class="mb-3">   <p style="color: #ECA1A6;"> What are you craving?</p>
      {{ form.craving_type.label_tag }} {{ form.craving_type }}</div>

    <div class="mb-3"> <p>If you selected "Other", please specify:</p>
    {{ form.custom_craving.label_tag }} {{ form.custom_craving }}</div>
    <br>

    <div class="mb-3">  <p style="color: #ECA1A6;"> Any additional notes?</p>
    {{ form.notes.label_tag }} {{ form.notes }}</div>
    <br>
    
    <div class="d-flex justify-content-between mt-3">
      <a href="{% url 'dashboard' %}" class="btn" style="background-color: #ECA1A6; color: #fff;">‚Üê Back</a>
      <button type="submit" class="btn" style="background-color: #A18BD0; color: #fff;">Save</button>
  </div>

  </form>
</div>

{% endblock %}
